<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="estilização.css">
</head>
<body>
    <div class="header">
        <div class="titulo">
            <img src="file:///C:/Users/Lucas%20Peres/Downloads/imagem_2025-09-03_200412929-removebg-preview.png" alt="" class="imagem">
         <h1>Simulador financeiro</h1>
        <span style="width: 100px;"></span>
        </div>
        <h2>Next History Technology</h2>
    </div>
    <br>
    <h3>Simulação de prejuízo anual</h3>
    
    <label for="ipt_qtd">Insira a quantidade de vazamentos por ano:</label>
    <input type="number" placeholder="Exemplo: 2" id="ipt_qtd">
    <br>
    <br>
    <label for="ipt_receita">Insira o lucro líquido anual da sua empresa (em milhões):</label>
    <input type="number" placeholder="Exemplo: 88" id="ipt_lucroLiquido">
    <br>
    <br>


    <button onclick="provavel()">Calculo provável</button>
    <br>
        <div id="div_simulacao"></div>
        <div id="div_limpo"></div>
    <br>
    <br>

    <button onclick="Limpar()">Limpar simulação</button>
    <br>
    <br>
    <br>

    




</body>
</html>
<script>

    function provavel() {
        // Calculo de prejuizo
        var qtd_vazamentos = Number(ipt_qtd.value);
        var lucro = Number(ipt_lucroLiquido.value);
        var multas_Amb = 500000;
        var indeni = 300000;
        var medico = 100000;
        var paraOpe = 150000;
        var perdaEstoque = 1_000_000;
        var exportacao = 1_500_000;
        var rep = 200_000;
        var process = 350_000;
        var totalPerVazamento = (multas_Amb + indeni + medico + paraOpe + perdaEstoque + exportacao + rep + process);
        var total = (totalPerVazamento * qtd_vazamentos);
        var porcentPerVazamento = ((totalPerVazamento / 1_000_000 ) / lucro * 100);
        var porcentTotal = ((total / 1_000_000 ) / lucro * 100);

        // Calculo de ROI
        var prejuizo = total;
        var tamanho = 500;
        var alcance = 13;
        var qtdSensores = (tamanho / alcance);
        var hardware = 5000 * qtdSensores;
        var instalacao = 3000;
        var manutencaoAno = 1000;   
        var custo = hardware + instalacao + manutencaoAno;
        var custoTotal = (custo + (custo * 0.10)) ;
        var valorRoi = ((prejuizo - custoTotal) / custoTotal * 100);
        var roiMonetario = ((prejuizo - custoTotal) / custoTotal);
        var ganhoLiquido = prejuizo - custoTotal;
       
        // Variaveis formatadas
        var porcent_vazamento = Number(porcentPerVazamento.toFixed(1));
        var porcent_Total = Number(porcentTotal.toFixed(1));
        var valor_Roi = Number(valorRoi.toFixed(1));
        var roi_Monetario = Number(roiMonetario.toFixed(2)).toLocaleString("pt-BR", {style:"currency", currency: "BRL"});
        var ganho_Liquido = Number(ganhoLiquido.toFixed(2)).toLocaleString("pt-BR", {style:"currency", currency: "BRL"});

        //
        
        if(qtd_vazamentos == 0){

            alert("Insira os dados corretamente")
        }
        else if (lucro == 0) {

            
        }
        else{
        
        div_simulacao.innerHTML = `<p><b>Em um cenário <b style="color: blue;">provavel</b> o prejuízo por conta de um único vazamento de amônia seria de:<br><b style="color: red;">R$${totalPerVazamento.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})} milhões por vazamento</b>, isso corresponde a <b style="color: red;">${porcent_vazamento}%</b> do lucro anual do frigorífico.</b></p>
            <p> Sendo: <br>
            <b>${multas_Amb.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> de multas, <b>${indeni.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> de indenizações, <b>${medico.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> com tratamentos médico para os funcionários, <b>${paraOpe.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por paradas de operação, <b>${perdaEstoque.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por perda de estoque, <b>${exportacao.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por impacto em exportações, <b>${rep.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por conta de perda de reputação e <b>${process.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por processos.</p>    
            <p> O prejuízo total por conta de <b>${qtd_vazamentos}</b> vazamentos seria de <b style="color: red;">${total.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> que corresponde a <b>${porcent_Total}%</b> do lucro do frigorífico. </p>
            <p>Com isso seu frigorífico pode evitar <b style="color: red;">${prejuizo.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})} em prejuízos</b></p> <p>O ROI do investimento é <b><u>${valor_Roi}%</u></b>, ou seja a cada R$1 investido gera uma economia de <b style="color: green;">${roi_Monetario}</b></p>
        <p> Ganho líquido esperado: <b style="color: green;">R$${ganho_Liquido}</b></p>`
        }
    }
    

    function Limpar(){


        div_simulacao.innerHTML = div_limpo.innerHTML
    }
    


</script>