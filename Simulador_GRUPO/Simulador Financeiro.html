<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="estilização.css">
</head>
<body>
    <div class="header">
        <div class="titulo">
            <img src="Logo.png" alt="" class="imagem">
         <h1>Simulador financeiro</h1>
        <span style="width: 100px;"></span>
        </div>
        <h2>Next History Technology</h2>
    </div>
    <br>

    
    <label for="ipt_qtd">Insira a quantidade de vazamentos de gás(Amônia) por ano:</label>
    <input type="number" placeholder="Exemplo: 2" id="ipt_qtd">
    <br>
    <br>
    <label for="ipt_receita">Insira a renda líquida anual da sua empresa (em milhões)R$:</label>
    <input type="number" placeholder="Exemplo: 88" id="ipt_renda">                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
    <br>
    <br>


    <button onclick="calcular()">Gerar simulação</button>
    <br>
        <div id="div_simulacao"></div>
        <div id="div_limpo"></div>
    <br>
    <br>

    <button onclick="Limpar()">Limpar simulação</button>
    <br>
    <br>
    <br>


</body>
</html>
<script>

    function calcular() {
        // Calculo da simulação
        var qtd_vazamentos = Number(ipt_qtd.value);
        var renda = Number(ipt_renda.value);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
        var multas_Amb = 500000;
        var indeni = 300000;
        var medico = 100000;
        var paraOpe = 150000;
        var perdaEstoque = 1_000_000;
        var exportacao = 1_500_000;
        var rep = 200_000;
        var process = 350_000;
        var totalPerVazamento = (multas_Amb + indeni + medico + paraOpe + perdaEstoque + exportacao + rep + process);
        var total = (totalPerVazamento * qtd_vazamentos);
        var porcentPerVazamento = ((totalPerVazamento / 1_000_000 ) / renda * 100);
        var porcentTotal = ((total / 1_000_000 ) / renda * 100);

       
        // Variaveis formatadas
        var porcent_vazamento = Number(porcentPerVazamento.toFixed(1));
        var porcent_Total = Number(porcentTotal.toFixed(1));


        //
        
        if(qtd_vazamentos == 0){

            alert("Insira os dados corretamente")
        }
        else if (renda == 0) {

            alert("Insira os dados corretamente")
        }
        else{
        
        div_simulacao.innerHTML = `<p><b>Baseado na média dos dados pesquisados o prejuízo por conta de um único vazamento de amônia seria de:<br><b style="color: red;">${totalPerVazamento.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})} por vazamento</b>, isso corresponde a <b style="color: red;">${porcent_vazamento}%</b> da renda anual do frigorífico.</b></p>
            <p> Sendo: <br>
            <b>${multas_Amb.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> de multas, <b>${indeni.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> de indenizações, <b>${medico.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> com tratamentos médico para os funcionários, <b>${paraOpe.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por paradas de operação, <b>${perdaEstoque.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por perda de estoque, <b>${exportacao.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por impacto em exportações, <b>${rep.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por conta de perda de reputação e <b>${process.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por processos.</p>    
            <p> O prejuízo total por conta de <b>${qtd_vazamentos}</b> vazamentos seria de <b style="color: red;">${total.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> que corresponde a <b>${porcent_Total}%</b> da renda do frigorífico. </p>
             `
        
            }
        }
            
    function Limpar(){


        div_simulacao.innerHTML = div_limpo.innerHTML
    }
    


</script>