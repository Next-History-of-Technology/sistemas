<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <div class="borda">
    <h1 class="titulo">Simulador finaceiro</h1>
    <h2 class="subtitulo">Next History Technology</h2>
    </div>

    <br>

    <div class="borda">

    <h3>Simulação de prejuízo anual</h3>

    <label for="ipt_qtd">Insira a quantidade de vazamentos por ano:</label>
    <input type="number" placeholder="Vazamentos por ano" id="ipt_qtd">
    <br>
    <br>
    <label for="ipt_receita">Insira o lucro líquido anual da sua empresa (em milhões):</label>
    <input type="number" placeholder="Lucro líquido" id="ipt_lucroLiquido">
    <br>
    <br>


    <button onclick="conservador()">Calculo conservador </button>
    <button onclick="provavel()">Calculo provavel</button>
    <button onclick="critico()">Calculo critico</button>
    <br>
        <div id="div_simulacao"></div>
        <div id="div_limpo"></div>
    <br>
    <br>

    <button onclick="Limpar()">Limpar simulação</button>
    <br>
    <br>
    <br>
    

    </div>


    <h3>Verfique o Retorno sobre o Investimento(ROI)</h3>
    <br>
    <label for="ipt_metros">Informe o tamanho da sala de máquinas (em metros):</label>
    <input type="number" id="ipt_metros">
    <br>
    <br>
    <label for="ipt_prejuizo">Informe o prejuizo por ano</label>
    <input type="number" id="ipt_prejuizo">
    <br>
    <br>

    <button onclick="investimento()">Calcular investimento</button>
    <br>
    <br>
    <div id="div_roi"></div>
    <br>
    <br>




</body>
</html>
<script>
    var multas_Amb = 0;
    var indeni = 0;
    var medico = 0;
    var paraOpe = 0;
    var perdaEstoque = 0;
    var exportacao = 0;
    var rep = 0;
    var process = 0;
    

    function conservador() {
        var qtd_vazamentos = Number(ipt_qtd.value);
        var lucro = Number(ipt_lucroLiquido.value);
            multas_Amb = 200_000;
            indeni = 100_000;
            medico = 50_000;
            paraOpe = 50_000;
            perdaEstoque = 500_000;
            exportacao = 1_000_000
            rep = 50_000;
            process = 25_000;
        var totalPerVazamento = (multas_Amb + indeni + medico + paraOpe + perdaEstoque + exportacao + rep + process);
        var total = (totalPerVazamento * qtd_vazamentos);
        var porcentPerVazamento = ((totalPerVazamento / 1_000_000 ) / lucro * 100);
        var porcentTotal = ((total / 1_000_000 ) / lucro * 100);

      if(qtd_vazamentos == 0){

            alert("Insira os dados corretamente")
        }
        else if (lucro == 0) {

            alert("Insira os dados corretamente")
        }
        else{

        div_simulacao.innerHTML = `<p><b>Em um cenário <b style="color: green;">conservador</b> o prejuízo por conta de um unico vazamento de amônia seria de:<br><b style="color: red;">${totalPerVazamento.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})} por vazamento</b>, isso corresponde a <b style="color: red;">${porcentPerVazamento.toFixed(1)}%</b> do lucro anual do frigorífico.</b></p>
            <p> Sendo: <br>
            <b>${multas_Amb.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> de multas, <b>${indeni.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> de indenizações, <b>${medico.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> com tratamento médico para os funcionarios, <b>${paraOpe.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por paradas de operação, <b>${perdaEstoque.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por perda de estoque, <b>${exportacao.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por impacto em exportações, <b>${rep.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por conta de perda de reputação e <b>${process.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por processos.</p>    
            <p> O prejuízo total por conta de <b>${qtd_vazamentos}</b> vazamentos seria de <b style="color: red;">${total.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> que corresponde a <b>${porcentTotal.toFixed(1)}%</b> do lucro do frigorífico. </p>`
        }
            

    }
    function provavel() {
        var qtd_vazamentos = Number(ipt_qtd.value);
        var lucro = Number(ipt_lucroLiquido.value);
            multas_Amb = 500_000;
            indeni = 300_000;
            medico = 100_000;
            paraOpe = 150_000;
            perdaEstoque = 1_000_000;
            exportacao = 1_500_000;
            rep = 200_000;
            process = 350_000;
        var totalPerVazamento = (multas_Amb + indeni + medico + paraOpe + perdaEstoque + exportacao + rep + process);
        var total = (totalPerVazamento * qtd_vazamentos);
        var porcentPerVazamento = ((totalPerVazamento / 1_000_000 ) / lucro * 100);
        var porcentTotal = ((total / 1_000_000 ) / lucro * 100);
       
       if(qtd_vazamentos == 0){

            alert("Insira os dados corretamente")
        }
        else if (lucro == 0) {

            alert("Insira os dados corretamente")
        }
        else{
        
      div_simulacao.innerHTML = `<p><b>Em um cenário <b style="color: blue;">provavel</b> o prejuízo por conta de um unico vazamento de amônia seria de:<br><b style="color: red;">${totalPerVazamento.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})} por vazamento</b>, isso corresponde a <b style="color: red;">${porcentPerVazamento.toFixed(1)}%</b> do lucro anual do frigorífico.</b></p>
            <p> Sendo: <br>
            <b>${multas_Amb.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> de multas, <b>${indeni.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> de indenizações, <b>${medico.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> com tratamento médico para os funcionarios, <b>${paraOpe.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por paradas de operação, <b>${perdaEstoque.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por perda de estoque, <b>${exportacao.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por impacto em exportações, <b>${rep.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por conta de perda de reputação e <b>${process.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por processos.</p>    
            <p> O prejuízo total por conta de <b>${qtd_vazamentos}</b> vazamentos seria de <b style="color: red;">${total.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> que corresponde a <b>${porcentTotal.toFixed(1)}%</b> do lucro do frigorífico. </p>`
        }
    }
    function critico() {
        var qtd_vazamentos = Number(ipt_qtd.value);
        var lucro = Number(ipt_lucroLiquido.value);
            multas_Amb = 1_000_000;
            indeni = 552_000;
            medico = 200_000;
            paraOpe = 300_000;
            perdaEstoque = 2_000_000;
            exportacao = 2_000_000;
            rep = 500_000;
            process = 200_000;
        var totalPerVazamento = (multas_Amb + indeni + medico + paraOpe + perdaEstoque + exportacao + rep + process);
        var total = (totalPerVazamento * qtd_vazamentos);
        var porcentPerVazamento = ((totalPerVazamento / 1_000_000 ) / lucro * 100);
        var porcentTotal = ((total / 1_000_000 ) / lucro * 100);

        if(qtd_vazamentos == 0){

            alert("Insira os dados corretamente")
        }
        else if (lucro == 0) {

            alert("Insira os dados corretamente")
        }
        else{
        div_simulacao.innerHTML = `<p><b>Em um cenário <b style="color: red;">critico</b> o prejuízo por conta de um unico vazamento de amônia seria de:<br><b style="color: red;">${totalPerVazamento.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})} por vazamento</b>, isso corresponde a <b style="color: red;">${porcentPerVazamento.toFixed(1)}%</b> do lucro anual do frigorífico.</b></p>
            <p> Sendo: <br>
            <b>${multas_Amb.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> de multas, <b>${indeni.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> de indenizações, <b>${medico.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> com tratamento médico para os funcionarios, <b>${paraOpe.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por paradas de operação, <b>${perdaEstoque.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por perda de estoque, <b>${exportacao.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por impacto em exportações, <b>${rep.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por conta de perda de reputação e <b>${process.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> por processos.</p>    
            <p> O prejuízo total por conta de <b>${qtd_vazamentos}</b> vazamentos seria de <b style="color: red;">${total.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b> que corresponde a <b>${porcentTotal.toFixed(1)}%</b> do lucro do frigorífico. </p>`
        }

    }
    function Limpar(){


        div_simulacao.innerHTML = div_limpo.innerHTML
    }
    function investimento(){
        var prejuizo = Number(ipt_prejuizo.value);
        var tamanho = Number(ipt_metros.value);
        var alcance = 13;
        var qtdSensores = (tamanho / alcance).toFixed(0);
        var hardware = 5000 * qtdSensores;
        var instalacao = 3000;
        var manutencaoAno = 1000;   
        var custo = hardware + instalacao + manutencaoAno;
        var custoTotal = (custo + (custo * 0.10)) ;
        var valorRoi = ((prejuizo - custoTotal) / custoTotal * 100);
        var roiMonetario = ((prejuizo - custoTotal) / custoTotal);
        var ganhoLiquido = prejuizo - custoTotal;


          if(prejuizo == 0){

            alert("Insira os dados corretamente")
        }
        else if (tamanho == 0) {

            alert("Insira os dados corretamente")
        }
        else{
        div_roi.innerHTML = `<p>Seu frigorífico precisaria de <b>${qtdSensores} sensores</b> resultando em um investimento de <b>R$${custoTotal}</b></p> <p>Com isso seu frigorífico pode evitar <b style="color: red;">${prejuizo.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})} em prejuízos</b></p> <p>O ROI do investimento é <b><u>${valorRoi.toFixed(1)}%</u></b>, ou seja a cada R$1 investido gera uma economia de <b style="color: green;">${roiMonetario.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b></p>
        <p> Ganho líquido esperado: <b style="color: green;">${ganhoLiquido.toLocaleString("pt-BR", {style:"currency", currency: "BRL"})}</b></p>`
        }




    }


</script>